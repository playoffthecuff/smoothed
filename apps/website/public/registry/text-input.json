{
  "name": "text-input",
  "regDeps": [
    "spinner-icon",
    "eye-close-icon",
    "eye-open-icon",
    "cn"
  ],
  "pkgDeps": [
    "class-variance-authority"
  ],
  "files": [
    {
      "path": "src/components/ui/input/text.tsx",
      "content": "\"use client\";\n\nimport { cva, type VariantProps } from \"class-variance-authority\";\nimport { useState } from \"react\";\nimport { EyeCloseIcon } from \"../icons/eye-close\";\nimport { EyeOpenIcon } from \"../icons/eye-open\";\nimport { SpinnerIcon } from \"../icons/spinner\";\nimport { cn } from \"@/lib/utils/cn\";\n\nconst textInputVariants = cva(\n\t[\n\t\t\"text placeholder:text-muted selection:surface-primary-solid w-full h-[2em] border-1.6 transition-all outline-none outline-transparent bg-3 hover:not-focus:bg-2 leading-none file:leading-[1.75] ps-[1ch] pe-[2em]\",\n\t],\n\t{\n\t\tvariants: {\n\t\t\tsize: {\n\t\t\t\ts: \"text-3d font-10d\",\n\t\t\t\tm: \"text-4d font-9d\",\n\t\t\t\tl: \"text-5d font-8d\",\n\t\t\t},\n\t\t\tdisabled: {\n\t\t\t\ttrue: \"pointer-events-none saturate-50 opacity-50 contrast-60 dark:contrast-90\",\n\t\t\t},\n\t\t\tloading: {\n\t\t\t\ttrue: \"text-transparent placeholder:text-transparent pointer-events-none\"\n\t\t\t},\n\t\t\tlifted: {\n\t\t\t\ttrue: null,\n\t\t\t\tfalse: null,\n\t\t\t},\n\t\t\tshape: {\n\t\t\t\trounded: \"rounded-[calc(var(--radius)*0.25em)]\",\n\t\t\t\tsquare: \"rounded-none\",\n\t\t\t\tcircular: \"rounded-full\",\n\t\t\t},\n\t\t\tstatus: {\n\t\t\t\tvalid:\n\t\t\t\t\t\"border-success text-success [&&]-selection:surface-success-solid focus:ring-success-2d\",\n\t\t\t\twarning:\n\t\t\t\t\t\"border-warning text-warning [&&]-selection:surface-warning-solid focus:ring-warning-2d\",\n\t\t\t\tinvalid:\n\t\t\t\t\t\"border-error text-error [&&]-selection:surface-error-solid focus:ring-error-2d\",\n\t\t\t},\n\t\t},\n\t\tcompoundVariants: [{\n\t\t\tstatus: undefined,\n\t\t\tclassName: \"focus:ring-primary-2d focus:border-primary border-muted invalid:border-error invalid:focus:border-error invalid:text-error-3 invalid:selection:surface-error-solid invalid:focus:ring-error-2d\",\n\t\t}],\n\t\tdefaultVariants: {\n\t\t\tsize: \"m\",\n\t\t\tlifted: false,\n\t\t\tshape: \"rounded\",\n\t\t},\n\t},\n);\nconst wrapperVariants = cva(null, {\n\tvariants: {\n\t\tsize: {\n\t\t\ts: \"text-3d font-10d\",\n\t\t\tm: \"text-4d font-9d\",\n\t\t\tl: \"text-5d font-8d\",\n\t\t},\n\t\tdisabled: {\n\t\t\ttrue: \"cursor-not-allowed\",\n\t\t},\n\t\tloading: {\n\t\t\ttrue: \"cursor-wait\",\n\t\t},\n\t\tshape: {\n\t\t\trounded: null,\n\t\t\tsquare: null,\n\t\t\tcircular: \"rounded-full\",\n\t\t},\n\t},\n\tcompoundVariants: [\n\t\t{\n\t\t\tshape: \"rounded\",\n\t\t\tsize: \"s\",\n\t\t\tclassName: \"rounded-7d\",\n\t\t},\n\t\t{\n\t\t\tshape: \"rounded\",\n\t\t\tsize: \"s\",\n\t\t\tclassName: \"rounded-8d\",\n\t\t},\n\t\t{\n\t\t\tshape: \"rounded\",\n\t\t\tsize: \"s\",\n\t\t\tclassName: \"rounded-9d\",\n\t\t},\n\t],\n\tdefaultVariants: {\n\t\tsize: \"m\",\n\t\tshape: \"rounded\",\n\t},\n});\n\ntype TextInputType = Exclude<\n\tReact.ComponentProps<\"input\">[\"type\"],\n\t| \"button\"\n\t| \"number\"\n\t| \"checkbox\"\n\t| \"color\"\n\t| \"time\"\n\t| \"image\"\n\t| \"file\"\n\t| \"hidden\"\n\t| \"date\"\n\t| \"datetime-local\"\n\t| \"month\"\n\t| \"week\"\n\t| \"radio\"\n\t| \"range\"\n\t| \"reset\"\n\t| \"submit\"\n>;\n\nexport type TextInputProps = Omit<\n\tReact.ComponentProps<\"input\">,\n\t\"type\" | \"size\"\n> &\n\tVariantProps<typeof textInputVariants> & { type?: TextInputType };\n\n// TODO Add x button to delete content\n// TODO Move wrapper to separate component ???\nexport function TextInput({\n\tclassName,\n\ttype,\n\tsize,\n\tlifted,\n\tshape,\n\tdisabled,\n\tloading,\n\tstatus,\n\t...props\n}: TextInputProps) {\n\tconst [visiblePassword, setVisiblePassword] = useState(false);\n\tconst inputType = type === \"password\" && visiblePassword ? \"text\" : type;\n\treturn (\n\t\t<div\n\t\t\tclassName={cn(\n\t\t\t\t\"flex relative items-center justify-center\",\n\t\t\t\twrapperVariants({ shape, size, disabled, loading }),\n\t\t\t)}\n\t\t>\n\t\t\t<input\n\t\t\t\ttype={inputType}\n\t\t\t\tclassName={cn(\n\t\t\t\t\ttextInputVariants({\n\t\t\t\t\t\tlifted,\n\t\t\t\t\t\tshape,\n\t\t\t\t\t\tsize,\n\t\t\t\t\t\tstatus,\n\t\t\t\t\t\tdisabled,\n\t\t\t\t\t\tloading,\n\t\t\t\t\t}),\n\t\t\t\t\tclassName,\n\t\t\t\t)}\n\t\t\t\tdisabled={disabled}\n\t\t\t\t{...props}\n\t\t\t/>\n\t\t\t{type === \"password\" && (\n\t\t\t\t<ToggleEyeButton\n\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\tonClick={() => setVisiblePassword((v) => !v)}\n\t\t\t\t\tvisible={visiblePassword}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t{loading && <SpinnerIcon className=\"animate-spin absolute pointer-events-none\" />}\n\t\t</div>\n\t);\n}\n\ninterface ToggleEyeProps {\n\tdisabled?: boolean;\n\tvisible: boolean;\n\tonClick: () => void;\n}\n\nconst ToggleEyeButton = ({ disabled, visible, onClick }: ToggleEyeProps) => (\n\t<button\n\t\ttype=\"button\"\n\t\tdisabled={disabled}\n\t\tclassName=\"disabled:pointer-events-none disabled:opacity-50 absolute right-0 text-muted hover:text-primary active:text-primary-3 cursor-pointer h-full aspect-1 flex items-center justify-center outline-none focus-visible:text-primary\"\n\t\tonClick={onClick}\n\t>\n\t\t{visible ? (\n\t\t\t<EyeCloseIcon strokeWidth={1.6} />\n\t\t) : (\n\t\t\t<EyeOpenIcon strokeWidth={1.6} />\n\t\t)}\n\t</button>\n);\n"
    }
  ]
}